!function(e){if("function"==typeof bootstrap)bootstrap("databind",e);else if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeDataBind=e}else"undefined"!=typeof window?window.DataBind=e():global.DataBind=e()}(function(){var e;return function(e,n,t){function r(t,i){if(!n[t]){if(!e[t]){var a="function"==typeof require&&require;if(!i&&a)return a(t,!0);if(o)return o(t,!0);throw new Error("Cannot find module '"+t+"'")}var u=n[t]={exports:{}};e[t][0].call(u.exports,function(n){var o=e[t][1][n];return r(o?o:n)},u,u.exports)}return n[t].exports}for(var o="function"==typeof require&&require,i=0;i<t.length;i++)r(t[i]);return r}({1:[function(n,t){"use strict";!function(n){"function"==typeof e&&e.amd&&e(n),t&&t.exports?t.exports=n():window.DataBind=n()}(function(){function e(e){return e&&window.jQuery&&e instanceof window.jQuery}function n(n){return e(n)?n[0]:n}function t(e,n){if(!e)return void 0;var t=void 0!==n;if(["checkbox","radio"].indexOf(e.type)>=0)return t&&(e.checked=!!n),e.checked;if(["text","textarea","select-one","email","url","week","time","search","tel","range","number","month","datetime-local","date","color"].indexOf(e.type)>=0)return t&&(e.value=n),e.value;if(["select-multiple"].indexOf(e.type)>=0){t&&(r(n)||(n=[n]));for(var o,i=[],a=e&&e.options,u=0,f=a.length;f>u;u++)o=a[u],t&&(o.selected=n.indexOf(o.value)>-1?!0:!1),o.selected&&i.push(o.value||o.text);return i}return t&&(e.innerText=n),e.innerText}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"string"==typeof e||e instanceof String}function i(e){return["checkbox","radio","select-one","select-multiple"].indexOf(e.type)>=0?"change":["text","textarea"].indexOf(e.type)>=0?"input":void 0}function a(e){return e.hashkey||(e.hashkey=Date.now()+Math.floor(1e5*Math.random())),e.hashkey}function u(e,n){if(e&&n){var t=a(e);if(_[t]=_[t]||[],!(_[t].indexOf(n)>-1)){_[t].push(n);var r=i(e);e.addEventListener(r,n,!1)}}}function f(e,n){var t=a(e),r=_[t].indexOf(n);if(_[t]&&-1!==r){_[t].splice(r,1);var o=i(e);e.removeEventListener(o,n,!1)}}function c(e){var n=a(e),t=_[n];if(e&&t){var r,o=t.concat(),i=o.length;for(r=0;i>r;r++)f(e,o[r])}}function s(e,n){var t,r=n.split("."),o=e;for(t=0;t<r.length;t++){if(!o.hasOwnProperty(r[t]))return!1;o=o[r[t]]}return!0}function l(e,n){var t,r=n.split("."),o=e;for(t=0;t<r.length-1;t++)o=o[r[t]];return o}function d(e,n,t){var r=n.split("."),o=l(e,n);return void 0!==t&&(o[r[r.length-1]]=t),o[r[r.length-1]]}function p(e,n,r){var o=function(e,n,t,r,o,i,a,u){return function(){var e=o(this),f=i(this),c=r(n,t);r(n,t,e),a(u,this,{key:f,oldValue:c,newValue:e})}}(e,n,r,d,t,g,O,D);u(e,o)}function h(e){c(e)}function v(e,n,r){var o=function(e,n,t,r,o,i,a){return function(n,t,u,f){var n=i(e);r(e,u),o(a,e,{key:n,oldValue:f,newValue:u})}}(e,n,r,t,O,g,B);L.watch(n,r,o)}function m(e,n){var t,r=e.watchers[n];for(t=0;t<r.length;t++)L.unwatch(e,n,r[t])}function g(e){return e?e.getAttribute(H):void 0}function y(e){return e=e||{},e={dom:void 0!==e.dom?e.dom:!0,model:void 0!==e.model?e.model:!0,children:void 0!==e.children?e.children:!0}}function w(e,n){if(!e||!n)return{};var t=g(e);if(!t)return{};var r=s(n,t),o=l(n,t),i=t.split(".");return i=i[i.length-1],{key:t,deepKey:i,deepModel:o,keyExists:r}}function b(e,n,r){if(!e||!n)return!1;var o=w(e,n);if(!o.keyExists)return!1;if(e.boundModel)return!0;e.boundModel=n;var i=d(n,o.key);return t(e,i),r.dom&&p(e,o.deepModel,o.deepKey),r.model&&v(e,o.deepModel,o.deepKey),!0}function x(e,n,t){if(e&&n){var r=w(e,n);r.keyExists&&(t.dom&&h(e),t.model&&m(r.deepModel,r.deepKey))}}function j(e,n){var t,r,o=[e];if(n.children)for(t=e.getElementsByTagName("*"),r=0;r<t.length;r++)o.push(t[r]);return o}function O(e,n,t){var r=document.createEvent("Events");r.initEvent(e,!0,!0),r.data=t,n.dispatchEvent(r)}function k(e,n,t,r){function o(e,o){c.push(o),r.dom&&e.addEventListener(t,o,!1),r.model&&e.addEventListener(n,o,!1)}function i(e,n){var t=c.indexOf(n);-1!==t&&(c.splice(t,1),r.dom&&e.removeEventListener(D,n,!1),r.model&&e.removeEventListener(B,n,!1))}function a(e){var n,t=c.concat();for(n=0;n<t.length;n++)i(e,t[n])}function u(n){var t;for(t=0;t<e.length;t++)o(e[t],n)}function f(n){var t,r=i;for(void 0===n&&(r=a),t=0;t<e.length;t++)r(e[t],n)}var c=[];return{watch:u,unwatch:f}}function E(e,t,r){if(e&&t){var o=n(e);if(o!==e)return arguments[0]=o,E.apply(this,arguments);r=y(r);var i,a,u=j(e,r),f=[];for(i=0;i<u.length;i++)a=b(u[i],t,{dom:r.dom,model:r.model}),a&&f.push(u[i]);var c=new k(f,B,D,r);return e.watchable=c,c}}function M(e,t,r){if(e&&t){var o=n(e);if(o!==e)return arguments[0]=o,M.apply(this,arguments);r=y(r);var i,a=j(e,r);for(i=0;i<a.length;i++)x(a[i],t,{dom:r.dom,model:r.model});e.watchable.unwatch()}}function S(e,t,r){function i(e,n,t){return function(){e.innerHTML=n(t)}}if(e&&t&&r){if(!window.Handlebars)return console.warn("To use DataBind.bindTemplate you need to include Handlebars.js on your page"),void 0;var a,u=n(e);if(u!==e)return arguments[0]=u,S.apply(this,arguments);if(o(t))a=t;else{if(u=n(t),u!==t)return arguments[1]=u,S.apply(this,arguments);a=u.innerHTML}if(Handlebars.compile)var f=Handlebars.compile(a);var c=i(e,f,r);c();var s=E(e,r);return L.watch(r,c),s}}function T(e,t,r){var o=n(e);return o!==e?(arguments[0]=o,T.apply(this,arguments)):(M(e,r),e.watchable.unwatch(),L.unwatch(r),void 0)}var L=function(){var e={noMore:!1},n=[],t=function(e){var n={};return e&&"[object Function]"==n.toString.call(e)},r=function(e){return 0===e%1},o=function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=function(e,n){var t=[],r=[];if("string"!=typeof e&&"string"!=typeof n&&!o(e)&&!o(n)){for(var i in e)n[i]||t.push(i);for(var a in n)e[a]||r.push(a)}return{added:t,removed:r}},a=function(e){if(null==e||"object"!=typeof e)return e;var n=e.constructor();for(var t in e)n[t]=e[t];return n},u=function(e,n,t,r){try{Object.defineProperty(e,n,{get:t,set:r,enumerable:!0,configurable:!0})}catch(o){try{Object.prototype.__defineGetter__.call(e,n,t),Object.prototype.__defineSetter__.call(e,n,r)}catch(i){throw"watchJS error: browser not supported :/"}}},f=function(e,n,t){try{Object.defineProperty(e,n,{enumerable:!1,configurable:!0,writable:!1,value:t})}catch(r){e[n]=t}},c=function(){t(arguments[1])?s.apply(this,arguments):o(arguments[1])?l.apply(this,arguments):d.apply(this,arguments)},s=function(e,n,t,r){if("string"!=typeof e&&(e instanceof Object||o(e))){var i=[];if(o(e))for(var a=0;a<e.length;a++)i.push(a);else for(var u in e)i.push(u);l(e,i,n,t,r)}},l=function(e,n,t,r,i){if("string"!=typeof e&&(e instanceof Object||o(e)))for(var a in n)d(e,n[a],t,r,i)},d=function(e,n,r,i,a){"string"!=typeof e&&(e instanceof Object||o(e))&&(t(e[n])||(null!=e[n]&&(void 0===i||i>0)&&(void 0!==i&&i--,s(e[n],r,i)),m(e,n,r),a&&O(e,n,r,i)))},p=function(){t(arguments[1])?h.apply(this,arguments):o(arguments[1])?v.apply(this,arguments):x.apply(this,arguments)},h=function(e,n){if(!(e instanceof String)&&(e instanceof Object||o(e))){var t=[];if(o(e))for(var r=0;r<e.length;r++)t.push(r);else for(var i in e)t.push(i);v(e,t,n)}},v=function(e,n,t){for(var r in n)x(e,n[r],t)},m=function(n,t,r){var o=n[t];b(n,t),n.watchers||f(n,"watchers",{}),n.watchers[t]||(n.watchers[t]=[]);for(var i in n.watchers[t])if(n.watchers[t][i]===r)return;n.watchers[t].push(r);var a=function(){return o},c=function(i){var a=o;o=i,n[t]&&s(n[t],r),b(n,t),e.noMore||JSON.stringify(a)!==JSON.stringify(i)&&(g(n,t,"set",i,a),e.noMore=!1)};u(n,t,a,c)},g=function(e,n,t,o,i){for(var a in e.watchers[n])r(a)&&e.watchers[n][a].call(e,n,t,o,i)},y=["pop","push","reverse","shift","sort","slice","unshift"],w=function(e,n,t,r){f(e[n],r,function(){var o=t.apply(e[n],arguments);return d(e,e[n]),"slice"!==r&&g(e,n,r,arguments),o})},b=function(e,n){if(e[n]&&!(e[n]instanceof String)&&o(e[n]))for(var t,r=y.length;r--;)t=y[r],w(e,n,e[n][t],t)},x=function(e,n,t){for(var r in e.watchers[n]){var o=e.watchers[n][r];o==t&&e.watchers[n].splice(r,1)}k(e,n,t)},j=function(){for(var e in n){var t=n[e],r=i(t.obj[t.prop],t.actual);if(r.added.length||r.removed.length){if(r.added.length)for(var o in t.obj.watchers[t.prop])l(t.obj[t.prop],r.added,t.obj.watchers[t.prop][o],t.level-1,!0);g(t.obj,t.prop,"differentattr",r,t.actual)}t.actual=a(t.obj[t.prop])}},O=function(e,t,r,o){n.push({obj:e,prop:t,actual:a(e[t]),watcher:r,level:o})},k=function(e,t,r){for(var o in n){var i=n[o];i.obj==e&&i.prop==t&&i.watcher==r&&n.splice(o,1)}};return setInterval(j,50),e.watch=c,e.unwatch=p,e.callWatchers=g,e}(),_={},B="databind-model-change",D="databind-dom-change",H="data-key";return{bind:E,unbind:M,bindTemplate:S,unbindTemplate:T}})},{}]},{},[1])(1)});