"use strict";(function(a){if(typeof define==="function"&&define.amd){define(a);}else{window.DataBind=a();}})(function(){var j=(function(){var R={noMore:false},M=[];var D=function(ab){var ac={};return ab&&ac.toString.call(ab)=="[object Function]";};var I=function(ab){return ab%1===0;};var P=function(ab){return Object.prototype.toString.call(ab)==="[object Array]";};var G=function(ac,ab){var ag=[],af=[];if(!(typeof ac=="string")&&!(typeof ab=="string")&&!P(ac)&&!P(ab)){for(var ae in ac){if(!ab[ae]){ag.push(ae);}}for(var ad in ab){if(!ac[ad]){af.push(ad);}}}return{added:ag,removed:af};};var W=function(ac){if(null==ac||"object"!=typeof ac){return ac;}var ad=ac.constructor();for(var ab in ac){ad[ab]=ac[ab];}return ad;};var T=function(ae,ad,ab,ag){try{Object.defineProperty(ae,ad,{get:ab,set:ag,enumerable:true,configurable:true});}catch(ac){try{Object.prototype.__defineGetter__.call(ae,ad,ab);Object.prototype.__defineSetter__.call(ae,ad,ag);}catch(af){throw"watchJS error: browser not supported :/";}}};var K=function(ae,ad,ac){try{Object.defineProperty(ae,ad,{enumerable:false,configurable:true,writable:false,value:ac});}catch(ab){ae[ad]=ac;}};var S=function(){if(D(arguments[1])){N.apply(this,arguments);}else{if(P(arguments[1])){O.apply(this,arguments);}else{aa.apply(this,arguments);}}};var N=function(af,ab,ah,ae){if((typeof af=="string")||(!(af instanceof Object)&&!P(af))){return;}var ad=[];if(P(af)){for(var ag=0;ag<af.length;ag++){ad.push(ag);}}else{for(var ac in af){ad.push(ac);}}O(af,ad,ab,ah,ae);};var O=function(ae,ad,ab,ag,ac){if((typeof ae=="string")||(!(ae instanceof Object)&&!P(ae))){return;}for(var af in ad){aa(ae,ad[af],ab,ag,ac);}};var aa=function(ad,af,ab,ae,ac){if((typeof ad=="string")||(!(ad instanceof Object)&&!P(ad))){return;}if(D(ad[af])){return;}if(ad[af]!=null&&(ae===undefined||ae>0)){if(ae!==undefined){ae--;}N(ad[af],ab,ae);}U(ad,af,ab);if(ac){Z(ad,af,ab,ae);}};var Q=function(){if(D(arguments[1])){H.apply(this,arguments);}else{if(P(arguments[1])){L.apply(this,arguments);}else{V.apply(this,arguments);}}};var H=function(ae,ab){if(ae instanceof String||(!(ae instanceof Object)&&!P(ae))){return;}var ad=[];if(P(ae)){for(var af=0;af<ae.length;af++){ad.push(af);}}else{for(var ac in ae){ad.push(ac);}}L(ae,ad,ab);};var L=function(ae,ad,ab){for(var ac in ad){V(ae,ad[ac],ab);}};var U=function(ae,ah,ac){var af=ae[ah];F(ae,ah);if(!ae.watchers){K(ae,"watchers",{});}if(!ae.watchers[ah]){ae.watchers[ah]=[];}for(var ad in ae.watchers[ah]){if(ae.watchers[ah][ad]===ac){return;}}ae.watchers[ah].push(ac);var ab=function(){return af;};var ag=function(aj){var ai=af;af=aj;if(ae[ah]){N(ae[ah],ac);}F(ae,ah);if(!R.noMore){if(JSON.stringify(ai)!==JSON.stringify(aj)){E(ae,ah,"set",aj,ai);R.noMore=false;}}};T(ae,ah,ab,ag);};var E=function(af,ag,ae,ad,ac){for(var ab in af.watchers[ag]){if(I(ab)){af.watchers[ag][ab].call(af,ag,ae,ad,ac);}}};var J=["pop","push","reverse","shift","sort","slice","unshift"];var C=function(ad,ae,ac,ab){K(ad[ae],ab,function(){var af=ac.apply(ad[ae],arguments);aa(ad,ad[ae]);if(ab!=="slice"){E(ad,ae,ab,arguments);}return af;});};var F=function(ad,ae){if((!ad[ae])||(ad[ae] instanceof String)||(!P(ad[ae]))){return;}for(var ac=J.length,ab;ac--;){ab=J[ac];C(ad,ae,ad[ae][ab],ab);}};var V=function(ae,af,ac){for(var ad in ae.watchers[af]){var ab=ae.watchers[af][ad];if(ab==ac){ae.watchers[af].splice(ad,1);}}Y(ae,af,ac);};var X=function(){for(var ad in M){var ab=M[ad];var ae=G(ab.obj[ab.prop],ab.actual);if(ae.added.length||ae.removed.length){if(ae.added.length){for(var ac in ab.obj.watchers[ab.prop]){O(ab.obj[ab.prop],ae.added,ab.obj.watchers[ab.prop][ac],ab.level-1,true);}}E(ab.obj,ab.prop,"differentattr",ae,ab.actual);}ab.actual=W(ab.obj[ab.prop]);}};var Z=function(ac,ae,ab,ad){M.push({obj:ac,prop:ae,actual:W(ac[ae]),watcher:ab,level:ad});};var Y=function(ae,af,ac){for(var ad in M){var ab=M[ad];if(ab.obj==ae&&ab.prop==af&&ab.watcher==ac){M.splice(ad,1);}}};setInterval(X,50);R.watch=S;R.unwatch=Q;R.callWatchers=E;return R;})();var z={};var y="data-key";function s(C){return(C&&window.jQuery&&C instanceof window.jQuery);}function f(C){if(s(C)){return C[0];}return C;}function t(C){console.log("#"+this.id+" ev:"+C.type+" new val:"+q(this));}function q(I,F){if(!I){return undefined;}var J=(F!==undefined);if(["checkbox","radio"].indexOf(I.type)>=0){if(J){I.checked=!!F;}return I.checked;}if(["text","textarea","select-one"].indexOf(I.type)>=0){if(J){I.value=F;}return I.value;}if(["select-multiple"].indexOf(I.type)>=0){if(J){if(!i(F)){F=[F];}}var D=[];var E=I&&I.options;var H;for(var G=0,C=E.length;G<C;G++){H=E[G];if(J){if(F.indexOf(H.value)>-1){H.selected=true;}else{H.selected=false;}}if(H.selected){D.push(H.value||H.text);}}return D;}if(J){I.innerText=F;}return I.innerText;}function i(C){return(Object.prototype.toString.call(C)==="[object Array]");}function x(C){if(["checkbox","radio","select-one","select-multiple"].indexOf(C.type)>=0){return"change";}if(["text","textarea"].indexOf(C.type)>=0){return"input";}}function a(C){if(!C.hashkey){C.hashkey=Date.now()+Math.floor(Math.random()*100000);}return C.hashkey;}function g(E,D){if(!E||!D){return;}var F=a(E);z[F]=z[F]||[];if(z[F].indexOf(D)>-1){return;}z[F].push(D);var C=x(E);E.addEventListener(C,D,false);}function e(F,E){var G=a(F);var C=z[G].indexOf(E);if(!z[G]||C===-1){return;}z[G].splice(C,1);var D=x(F);F.removeEventListener(D,E,false);}function b(G){var H=a(G);var F=z[H];if(!G||!F){return;}var E=F.concat();var D,C=E.length;for(D=0;D<C;D++){e(G,E[D]);}}function c(C,F){var G=F.split(".");var E=C;var D;for(D=0;D<G.length;D++){if(!E.hasOwnProperty(G[D])){return false;}E=E[G[D]];}return true;}function o(C,F){var G=F.split(".");var E=C;var D;for(D=0;D<G.length-1;D++){E=E[G[D]];}return E;}function n(E,F,D){var G=F.split(".");var C=o(E,F);if(D!==undefined){C[G[G.length-1]]=D;}return C[G[G.length-1]];}function h(F,D,C){var E=(function(J,H,G,I,K){return function(M){var L=K(this);I(H,G,L);};})(F,D,C,n,q);g(F,E);g(F,t);}function m(C){b(C);}function p(F,D,C){var E=(function(I,H,G,J){return function(M,N,L,K){J(I,L);};})(F,D,C,q);j.watch(D,C,E);}function l(D,C){var F=D.watchers[C];var E;for(E=0;E<F.length;E++){j.unwatch(D,C,F[E]);}}function k(C){if(!C){return;}return C.getAttribute(y);}function w(C){C=C||{};C={dom:(C.dom!==undefined)?C.dom:true,model:(C.model!==undefined)?C.model:true,children:(C.children!==undefined)?C.children:true};return C;}function v(G,E){if(!G||!E){return{};}var F=k(G);if(!F){return{};}var H=c(E,F);var D=o(E,F);var C=F.split(".");C=C[C.length-1];return{key:F,deepKey:C,deepModel:D,keyExists:H};}function B(F,D,C){if(!F||!D){return;}var E=v(F,D);if(!E.keyExists){return;}var G=n(D,E.key);q(F,G);if(C.dom){h(F,E.deepModel,E.deepKey);}if(C.model){p(F,E.deepModel,E.deepKey);}}function r(F,D,C){if(!F||!D){return;}var E=v(F,D);if(!E.keyExists){return;}if(C.dom){m(F);}if(C.model){l(E.deepModel,E.deepKey);}}function u(G,C){var F=[G],E,D;if(C.children){E=G.getElementsByTagName("*");for(D=0;D<E.length;D++){F.push(E[D]);}}return F;}function A(G,E,C){if(!G||!E){return;}var H=f(G);if(H!==G){arguments[0]=H;return A.apply(this,arguments);}C=w(C);var D=u(G,C);var F;for(F=0;F<D.length;F++){B(D[F],E,{dom:C.dom,model:C.model});}}function d(G,E,C){if(!G||!E){return;}var H=f(G);if(H!==G){arguments[0]=H;return d.apply(this,arguments);}C=w(C);var D=u(G,C);var F;for(F=0;F<D.length;F++){r(D[F],E,{dom:C.dom,model:C.model});}}return{bind:A,unbind:d};});